#!/bin/bash

# TODO: Check in order: flameshot, scrot, imagemagick
# ImageMagick:
#timestamp="$(date +%d.%m.%Y"_shot_"%H:%M:%S)"
#targetbase="$HOME/Pictures/screenshots"
#mkdir -p $targetbase
#[ -d $targetbase ] || exit 1
#import -window root -quality 98 $targetbase/$timestamp.png

if [[ $(which flameshot | awk '{print $2}') != "not" ]] ; then
    flameshot gui --delay 200
else if [[ $(which scrot | awk '{print $2'}) != "not" ]] ; then
    CMDS='nice -n 20 optipng "$f"'
    CMDS=$CMDS';mv "$f" ~/Pictures/screenshots'

    scrot '%Y.%m.%d @ %H:%M:%S ($wx$h).png' -e "$CMDS"
fi