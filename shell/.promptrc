
if [[ ! -n $SHELL_CHECK ]] ; then
	source ~/.shvars
    #Pull $TEXT_USERNAME, $TEXT_HOSTNAME and $TEXT_WORKING_DIRECTORY (and everything else along the way :3)
fi


_COLOR_DECORATION1=$C_RED
_COLOR_DECORATION2=$C_NONE$C_PURPLE #Have to add a C_NONE so it doesn't get the bold effect from the previous element
_COLOR_DIRECTORY=$E_BOLD$C_GREEN
_COLOR_SHELL=$E_BOLD$C_RED
NC=$C_NONE # No Color

#Username color, red for root, green otherwise
	if [[ "$UID" == 0 ]] ; then
    _COLOR_USERNAME=$C_RED
	else
    _COLOR_USERNAME=$C_GREEN
	fi

#Hostname color, yellow for remote, blue otherwise
	if [ -n "$SSH_CONNECTION" ] ; then
		# We're logged in remotely
    _COLOR_HOSTNAME=$E_BOLD$C_YELLOW
	else
    _COLOR_HOSTNAME=$E_BOLD$C_BLUE
fi

_TEXT_FRAME1="["
_TEXT_FRAME2="]"
_TEXT_IN=" in "
if [ -n "$UNICODE_SUPPORT" ] ; then
    _TEXT_AT='❤'
    _DECOR_FRAME1="╔"
    _DECOR_FRAME2="╚═> "
    _DECOR_FRAME3="  > "
    _DECOR_CHAR_ADDITIONAL="═"
else
    _TEXT_AT='@'
    _DECOR_FRAME1="┌"
    _DECOR_FRAME2="└─> "
    _DECOR_FRAME3="  > "
    _DECOR_CHAR_ADDITIONAL="─"
fi

#Display visually which shell level we are in,
#   not because you need to know, but so you at
#   least can differentiate commands launched in
#   other shells and know when exitting won't log you out
_SHLVL=$SHLVL
while [[ $_SHLVL > 1 ]] ; do
    _DECOR_FRAME1=$_DECOR_FRAME1$_DECOR_CHAR_ADDITIONAL;
	_SHLVL=$(($_SHLVL-1))
done

if [[ ! -n $NO_SET_PROMPT ]] ; then
    PS1="$_DECOR_FRAME1\
$(echo $_COLOR_DECORATION2)$_TEXT_FRAME1\
$(echo $_COLOR_USERNAME)$TEXT_USERNAME\
$(echo $_COLOR_DECORATION1)$_TEXT_AT\
$(echo $_COLOR_HOSTNAME)$TEXT_HOSTNAME\
$(echo $_COLOR_DECORATION2)$_TEXT_FRAME2\
$(echo $NC)$_TEXT_IN\
$(echo $_COLOR_DIRECTORY)$TEXT_WORKING_DIRECTORY$(echo $NC)
$_DECOR_FRAME2"
    PS2="$_DECOR_FRAME3"
fi